
CREATE TABLE TEMA
( 
	IDTEMA               integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(100)  NOT NULL ,
	CONSTRAINT XPKTEMA PRIMARY KEY (IDTEMA ASC)
)
go



CREATE TABLE AUTOR
( 
	IDAUTOR              integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(100)  NOT NULL ,
	APELLIDO             varchar(100)  NOT NULL ,
	CONSTRAINT XPKAUTOR PRIMARY KEY (IDAUTOR ASC)
)
go



CREATE TABLE LIBRO
( 
	IDLIBRO              integer IDENTITY ( 1,1 ) ,
	TITULO               varchar(200)  NOT NULL ,
	IDTEMA               integer  NOT NULL ,
	IDAUTOR              integer  NOT NULL ,
	CONSTRAINT XPKLIBRO PRIMARY KEY (IDLIBRO ASC),
	CONSTRAINT FK_LIBRO_TEMA FOREIGN KEY (IDTEMA) REFERENCES TEMA(IDTEMA)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_LIBRO_AUTOR FOREIGN KEY (IDAUTOR) REFERENCES AUTOR(IDAUTOR)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE EJEMPLAR
( 
	IDEJEMPLAR           integer IDENTITY ( 1,1 ) ,
	CODIGO               varchar(20)  NOT NULL ,
	EDICION              integer  NOT NULL ,
	EDITORIAL            varchar(20)  NOT NULL ,
	ANIO                 integer  NOT NULL ,
	IDLIBRO              integer  NOT NULL ,
	CONSTRAINT XPKEJEMPLAR PRIMARY KEY (IDEJEMPLAR ASC),
	CONSTRAINT FK_EJEMPLAR_LIBRO FOREIGN KEY (IDLIBRO) REFERENCES LIBRO(IDLIBRO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go


